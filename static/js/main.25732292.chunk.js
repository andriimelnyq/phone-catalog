(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{101:function(e,t,c){},102:function(e,t,c){"use strict";c.r(t);var s=c(17),n=c.n(s),a=c(11),i=c(7),r=c(6),o=c.n(r),l=c(10),d=c(5),u=c(0),j=c.n(u),b="https://mate-academy.github.io/react_phone-catalog/api/products";function m(e){return new Promise((function(t){setTimeout(t,e)}))}var p,O=function(e){return m(300).then((function(){return fetch("".concat(b,"/").concat(e,".json"))})).then((function(e){if(!e.ok)throw new Error;return e.json()}))};!function(e){e.LOAD_Products="Unable to load products",e.LOAD_ProductDetails="Unable to load product details",e.NONE=""}(p||(p={}));var v=c(1),_=j.a.createContext({error:p.NONE,setError:function(){}}),h=j.a.createContext({notification:"",setNotification:function(){}}),x=function(e){var t=e.children,c=Object(u.useState)(p.NONE),s=Object(d.a)(c,2),n=s[0],a=s[1],i=Object(u.useState)(""),r=Object(d.a)(i,2),o=r[0],l=r[1],j=Object(u.useMemo)((function(){return{error:n,setError:a}}),[n]),b=Object(u.useMemo)((function(){return{notification:o,setNotification:l}}),[o]);return Object(v.jsx)(_.Provider,{value:j,children:Object(v.jsx)(h.Provider,{value:b,children:t})})},f=j.a.createContext({productsFromServer:[],setProductsFromServer:function(){},isLoadProducts:!1,setIsLoadProducts:function(){}}),N=function(e){var t=e.children,c=Object(u.useState)([]),s=Object(d.a)(c,2),n=s[0],a=s[1],i=Object(u.useState)(!1),r=Object(d.a)(i,2),j=r[0],O=r[1],h=Object(u.useContext)(_).setError,x=Object(u.useMemo)((function(){return{productsFromServer:n,setProductsFromServer:a,isLoadProducts:j,setIsLoadProducts:O}}),[n,j]),N=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,m(300).then((function(){return fetch("".concat(b,".json"))})).then((function(e){if(!e.ok)throw new Error;return e.json()}));case 4:t=e.sent,a(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h(p.LOAD_Products);case 11:return e.prev=11,O(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){N()}),[]),Object(v.jsx)(f.Provider,{value:x,children:t})},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=Object(u.useState)((function(){var c=localStorage.getItem(e);if(!c)return t;try{return JSON.parse(c)||t}catch(s){return t}})),s=Object(d.a)(c,2),n=s[0],a=s[1],i=function(t){a(t),localStorage.setItem(e,JSON.stringify(t))};return[n,i]},y=j.a.createContext({cart:[],setCart:function(){}}),k=j.a.createContext({favorites:[],setFavorites:function(){}}),C=function(e){var t=e.children,c=g("cart"),s=Object(d.a)(c,2),n=s[0],a=s[1],i=g("favorites"),r=Object(d.a)(i,2),o=r[0],l=r[1];return Object(v.jsx)(y.Provider,{value:{cart:n,setCart:a},children:Object(v.jsx)(k.Provider,{value:{favorites:o,setFavorites:l},children:t})})},w=c(13),S=c(24),P=(c(34),c(35),c(36),c(53),function(){return Object(v.jsxs)("section",{className:"banner-slider",children:[Object(v.jsx)("div",{className:"main-container main-container--disable-on-mobile",children:Object(v.jsxs)("div",{className:"banner-slider__content",children:[Object(v.jsx)("button",{type:"button",className:"banner-slider__button banner-slider__button--prev",children:Object(v.jsx)("img",{src:"icons/arrow.svg",alt:"prev button"})}),Object(v.jsx)(S.a,{slidesPerView:1,spaceBetween:30,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".banner-slider__pagination",clickable:!0},navigation:{nextEl:".banner-slider__button--next",prevEl:".banner-slider__button--prev"},modules:[w.c,w.b,w.a],children:["img/banner-phones.png","img/banner-tablets.png","img/banner-accessories.png"].map((function(e){return Object(v.jsx)(S.b,{children:Object(v.jsx)("img",{src:e,alt:"banner img",className:"banner-slider__image"})},e)}))}),Object(v.jsx)("button",{type:"button",className:"banner-slider__button banner-slider__button--next",children:Object(v.jsx)("img",{src:"icons/arrow.svg",alt:"next button"})})]})}),Object(v.jsx)("div",{className:"banner-slider__pagination"})]})}),F=(c(54),c(4)),q=c(14),E=c.n(q),L=(c(55),function(e){var t=e.className,c=e.product,s=Object(u.useContext)(y),n=s.cart,a=s.setCart,i=Object(u.useContext)(k),r=i.favorites,o=i.setFavorites,l=n.some((function(e){return e.id===(null===c||void 0===c?void 0:c.id)})),d=r.some((function(e){return e.id===(null===c||void 0===c?void 0:c.id)}));return Object(v.jsxs)("div",{className:"primary-button ".concat(t),children:[Object(v.jsx)("button",{type:"button",className:E()("primary-button__buy",{"primary-button__buy--is-added":l}),onClick:function(){if(c)if(0!==n.length)if(l){var e=n.filter((function(e){return e.id!==c.id}));a(e)}else a([].concat(Object(F.a)(n),[{id:c.id,quantity:1,product:c}]));else a([{id:c.id,quantity:1,product:c}])},children:l?"Added to cart":"Add to cart"}),Object(v.jsx)("button",{type:"button",className:"primary-button__favorite",onClick:function(){if(c)if(0!==r.length)if(d){var e=r.filter((function(e){return e.id!==c.id}));o(e)}else o([].concat(Object(F.a)(r),[c]));else o([c])},"data-cy":"addToFavorite",children:d?Object(v.jsx)("img",{src:"icons/favourites-filled.svg",alt:"button favourite"}):Object(v.jsx)("img",{src:"icons/favourites.svg",alt:"button favourite"})})]})}),M=function(e){var t=e.product,c=t.imageUrl,s=t.name,n=t.price,i=t.screen,r=t.capacity,o=t.ram,l=t.discount,d=t.id,u=t.type,j=Math.round(n-n*(l/100));return Object(v.jsxs)("div",{className:"product-card","data-cy":"cardsContainer",children:[Object(v.jsxs)(a.b,{to:function(){switch(u){case"phone":return"../phones/".concat(d);case"tablet":return"../tablets/".concat(d);case"accessory":return"../accessories/".concat(d);default:return""}}(),className:"product-card__link",children:[Object(v.jsx)("img",{src:c,alt:"",className:"product-card__image"}),Object(v.jsx)("div",{className:"product-card__title",children:s}),Object(v.jsxs)("div",{className:"prices",children:[Object(v.jsx)("div",{className:"prices__price",children:"$".concat(l?j:n)}),l>0&&Object(v.jsx)("div",{className:"prices__price prices__price--discount",children:"$".concat(n)})]}),Object(v.jsx)("div",{className:"line line__card"}),Object(v.jsxs)("div",{className:"product-card__details",children:[Object(v.jsxs)("div",{className:"product-card__details-row",children:[Object(v.jsx)("div",{className:"product-card__details-option",children:"Screen"}),Object(v.jsx)("div",{className:"product-card__details-value",children:i})]}),Object(v.jsxs)("div",{className:"product-card__details-row",children:[Object(v.jsx)("div",{className:"product-card__details-option",children:"Capacity"}),Object(v.jsx)("div",{className:"product-card__details-value",children:r})]}),Object(v.jsxs)("div",{className:"product-card__details-row",children:[Object(v.jsx)("div",{className:"product-card__details-option",children:"RAM"}),Object(v.jsx)("div",{className:"product-card__details-value",children:o})]})]})]}),Object(v.jsx)(L,{product:t})]})},A=(c(56),function(e){var t=e.products,c=e.title,s=e.className;return Object(v.jsx)("div",{className:"".concat(s,"-slider"),children:Object(v.jsxs)("div",{className:"main-container",children:[Object(v.jsxs)("div",{className:"".concat(s,"-slider__header"),children:[Object(v.jsx)("h1",{children:c}),Object(v.jsxs)("div",{className:"".concat(s,"-slider__control"),children:[Object(v.jsx)("button",{type:"button",className:"".concat(s,"-slider__button ").concat(s,"-slider__button--prev"),children:Object(v.jsx)("img",{src:"icons/arrow.svg",alt:"prev button"})}),Object(v.jsx)("button",{type:"button",className:"".concat(s,"-slider__button ").concat(s,"-slider__button--next"),children:Object(v.jsx)("img",{src:"icons/arrow.svg",alt:"next button"})})]})]}),Object(v.jsx)(S.a,{slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".".concat(s,"-slider__button--next"),prevEl:".".concat(s,"-slider__button--prev")},modules:[w.c,w.b,w.a],breakpoints:{1200:{slidesPerView:4,spaceBetween:0}},children:t.map((function(e){return Object(v.jsx)(S.b,{children:Object(v.jsx)(M,{product:e})},e.id)}))})]})})}),I=function(){var e=Object(u.useContext)(f).productsFromServer.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}));return Object(v.jsx)("section",{className:"brand-new",children:Object(v.jsx)(A,{products:e,title:"New brands",className:"brand-new"})})},B=function(){var e=Object(u.useContext)(f).productsFromServer.filter((function(e){return e.discount}));return Object(v.jsx)("section",{className:"hot-prices",children:Object(v.jsx)(A,{products:e,title:"Hot prices",className:"hot-prices"})})},T=(c(57),function(){var e=Object(u.useContext)(f).productsFromServer,t=function(t){return e.reduce((function(e,c){return c.type===t?e+1:e}),0)},c=[{category:"phones",title:"Mobile phones",count:t("phone")},{category:"tablets",title:"Tablets",count:t("tablet")},{category:"accessories",title:"Accessories",count:t("accessory")}];return Object(v.jsx)("section",{className:"shop-by-category","data-cy":"categoryLinksContainer",children:Object(v.jsxs)("div",{className:"main-container",children:[Object(v.jsx)("h1",{children:"Shop by category"}),Object(v.jsx)("div",{className:"shop-by-category__content",children:Object(v.jsx)("div",{className:"grid",children:c.map((function(e){return Object(v.jsxs)(a.c,{to:"/".concat(e.category),className:"shop-by-category__category shop-by-category__category--".concat(e.category),children:[Object(v.jsx)("div",{className:"shop-by-category__image",children:Object(v.jsx)("img",{src:"img/category-".concat(e.category,"-v2.jpg"),alt:"".concat(e.category," category")})}),Object(v.jsx)("h3",{className:"shop-by-category__title",children:e.title}),Object(v.jsx)("div",{className:"shop-by-category__count",children:"".concat(e.count," models")})]},e.title)}))})})]})})}),D=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(P,{}),Object(v.jsx)(B,{}),Object(v.jsx)(T,{}),Object(v.jsx)(I,{})]})};function R(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(d.a)(e,2),s=t[0],n=t[1];null===n?c.delete(s):Array.isArray(n)?(c.delete(s),n.forEach((function(e){c.append(s,e)}))):c.set(s,n)})),c.toString()}var V,$=c(42),U=c.n($),J=(c(58),function(e){var t=e.pageCount,c=Object(a.d)(),s=Object(d.a)(c,2),n=s[0],i=s[1],r=n.get("page")||1;return Object(v.jsx)(U.a,{previousLabel:"<",nextLabel:">",pageCount:t,onPageChange:function(e){var t=e.selected;window.scrollTo(0,0),i(R(n,{page:"".concat(t+1)}))},containerClassName:"pagination",previousLinkClassName:"pagination__link pagination__link--prev",pageLinkClassName:"pagination__link",nextLinkClassName:"pagination__link pagination__link--next",disabledClassName:"pagination__link--disabled",activeClassName:"pagination__link--active",forcePage:+r-1,prevRel:"prevButton","data-cy":"pagination"})}),H=c(44),Y=(c(59),function(e){var t=e.placeholder,c=e.defaultValue,s=e.options,n=e.onChange,a=e.selectTitle,i=e.classModificator;return Object(v.jsxs)("div",{role:"button",className:"select",children:[Object(v.jsx)("div",{className:"select__title",children:a}),Object(v.jsx)(H.a,{unstyled:!0,placeholder:t,isSearchable:!1,defaultValue:c,options:s,className:"select-container ".concat(i),classNamePrefix:"select-item",onChange:n})]})}),G=(c(84),function(e){var t=e.text;return Object(v.jsx)("p",{className:"no-results",children:t})});!function(e){e.home="home",e.phone="phones",e.tablet="tablets",e.accessory="accessories"}(V||(V={}));c(85);var Q=function(e){var t=e.type,c=e.productName;return Object(v.jsxs)("div",{className:"breadcrumbs","data-cy":"breadCrumbs",children:[Object(v.jsx)(a.b,{to:"/",className:"breadcrumbs__home-link",children:Object(v.jsx)("img",{src:"icons/home.svg",alt:"home"})}),Object(v.jsx)("img",{src:"icons/arrow.svg",alt:"arrow",className:"breadcrumbs__arrow"}),Object(v.jsx)("p",{className:E()("breadcrumbs__title",{"breadcrumbs__title--selected":!c}),children:V["".concat(t)]||"favorites"}),c&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{src:"icons/arrow.svg",alt:"arrow",className:"breadcrumbs__arrow"}),Object(v.jsx)("p",{className:E()("breadcrumbs__title",{"breadcrumbs__title--selected":c}),children:c})]})]})},W=function(e,t){return Math.round(e-e*(t/100))},z=(c(86),function(e){var t=e.products,c=e.title,s=e.isFavorites,n=[{value:"age",label:"Newest"},{value:"name",label:"Alphabetically"},{value:"price",label:"Cheapest"}],i=[{value:"4",label:"4"},{value:"8",label:"8"},{value:"16",label:"16"},{value:"all",label:"All"}],r=Object(a.d)(),o=Object(d.a)(r,2),l=o[0],u=o[1],j=l.get("sort"),b=l.get("perPage")||4,m=l.get("page")||1,p=l.get("query")||"",O=t.filter((function(e){return e.name.toLowerCase().replace(/\s+/g,"").includes(p)})),_=O.length,h="all"===b?_:b,x=+h*(+m-1),f=Math.ceil(_/+h),N=n.find((function(e){return e.value===j})),g=i.find((function(e){return e.value===b})),y=_<=+i[0].value||s,k=f<=1||y,C=Object(F.a)(O).sort((function(e,t){switch(j){case"age":return e.age-t.age;case"name":return e.name.localeCompare(t.name);case"price":return W(e.price,e.discount)-W(t.price,t.discount);default:return 0}})),w=s?O:C.slice(x,+h+x);return Object(v.jsx)("section",{className:"products-list","data-cy":"productList",children:Object(v.jsxs)("div",{className:"main-container",children:[_>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Q,{type:s?"favorites":t[0].type}),Object(v.jsx)("h1",{className:"products-list__title",children:c}),Object(v.jsx)("div",{className:"products-list__subtitle",children:"".concat(_," models")}),!s&&Object(v.jsx)(Y,{placeholder:"Sort by...",defaultValue:N,options:n,onChange:function(e){return u(R(l,{sort:(null===e||void 0===e?void 0:e.value)||null}))},selectTitle:"Sort by"}),!y&&Object(v.jsx)(Y,{placeholder:"".concat(b),defaultValue:g,options:i,onChange:function(e){(null===e||void 0===e?void 0:e.value)&&(+e.value*+m>_||"all"===e.value)?u(R(l,{perPage:e.value,page:null})):u(R(l,{perPage:(null===e||void 0===e?void 0:e.value)||null}))},selectTitle:"Items on page",classModificator:"select-container--less"}),Object(v.jsx)("section",{className:"products-list__items",children:w.map((function(e){return Object(v.jsx)(M,{product:e},e.id)}))})]}):Object(v.jsx)(G,{text:"".concat(c," Not Found")}),!k&&Object(v.jsx)(J,{pageCount:f})]})})}),K=function(){var e=Object(u.useContext)(f).productsFromServer,t=e.filter((function(e){return"phone"===e.type}));return Object(v.jsx)(z,{products:t,title:"Mobile phones"})},X=function(){var e=Object(u.useContext)(f).productsFromServer,t=e.filter((function(e){return"tablet"===e.type}));return Object(v.jsx)(z,{products:t,title:"Tablets"})},Z=function(){var e=Object(u.useContext)(f).productsFromServer,t=e.filter((function(e){return"accessory"===e.type}));return Object(v.jsx)(z,{products:t,title:"Accessories"})},ee=(c(87),function(){return Object(v.jsx)("div",{className:"loader","data-cy":"loader",children:Object(v.jsx)("div",{className:"loader__content"})})}),te=(c(88),c(89),function(){return Object(v.jsxs)("button",{type:"button","data-cy":"backButton",className:"arrow-back",onClick:function(){return window.history.back()},children:[Object(v.jsx)("img",{src:"icons/arrow.svg",alt:"arrow",className:"arrow-back__arrow"}),Object(v.jsx)("p",{className:"arrow-back__title",children:"Back"})]})}),ce=function(e){var t=e.details,c=Object(u.useState)(null===t||void 0===t?void 0:t.images[0]),s=Object(d.a)(c,2),n=s[0],a=s[1],i=Object(u.useContext)(f).productsFromServer,r=i.find((function(e){return e.id===(null===t||void 0===t?void 0:t.id)})),o=(null===r||void 0===r?void 0:r.discount)||0,l=(null===r||void 0===r?void 0:r.price)||0,j=(null===r||void 0===r?void 0:r.screen)||"",b=Math.round(l-l*(o/100)),m=i.sort((function(){return Math.random()-.5})),p=function(e){return function(){return a(e)}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("section",{className:"product-details",children:Object(v.jsxs)("div",{className:"main-container",children:[Object(v.jsx)(Q,{type:(null===r||void 0===r?void 0:r.type)||"",productName:null===t||void 0===t?void 0:t.name}),Object(v.jsx)(te,{}),Object(v.jsx)("h2",{className:"product-details__title",children:null===t||void 0===t?void 0:t.name}),Object(v.jsxs)("div",{className:"grid grid--tablet-desktop",children:[Object(v.jsx)("img",{src:n,alt:"product img",className:" product-details__image grid__item--tablet-2-7 grid__item--desktop-3-12 "}),Object(v.jsx)("div",{className:" product-details__img-selector grid__item--tablet-1-1 grid__item--desktop-1-2 ",children:null===t||void 0===t?void 0:t.images.map((function(e){return Object(v.jsx)("button",{type:"button",onClick:p(e),children:Object(v.jsx)("img",{src:e,alt:"product img in selector",className:E()("product-details__img-selector-item",{"product-details__img-selector-item--selected":e===n})})},e)}))}),Object(v.jsxs)("div",{className:" product-details__main-controls grid__item--tablet-8-12 grid__item--desktop-14-20 ",children:[Object(v.jsxs)("div",{className:"prices prices--details",children:[Object(v.jsx)("div",{className:"prices__price",children:"$".concat(o?b:l)}),o>0&&Object(v.jsx)("div",{className:"prices__price prices__price--discount",children:"$".concat(l)})]}),Object(v.jsx)(L,{className:"primary-button--details",product:r}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"Screen"}),Object(v.jsx)("div",{className:"product-details__value",children:j})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"Resolution"}),Object(v.jsx)("div",{className:"product-details__value",children:null===t||void 0===t?void 0:t.display.screenResolution})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"Processor"}),Object(v.jsx)("div",{className:"product-details__value",children:null===t||void 0===t?void 0:t.hardware.cpu})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"RAM"}),Object(v.jsx)("div",{className:"product-details__value",children:null===t||void 0===t?void 0:t.storage.ram})]})]}),Object(v.jsxs)("div",{className:" product-details__section-about grid__item--tablet-1-12 grid__item--desktop-1-12 ","data-cy":"productDescription",children:[Object(v.jsx)("h3",{className:"product-details__subtitle",children:"About"}),Object(v.jsx)("div",{className:"line"}),Object(v.jsx)("p",{className:"product-details__about",children:null===t||void 0===t?void 0:t.description})]}),Object(v.jsxs)("div",{className:" product-details__section-tech-specs grid__item--tablet-1-12 grid__item--desktop-14-24 ",children:[Object(v.jsx)("h3",{className:"product-details__subtitle",children:"Tech specs"}),Object(v.jsx)("div",{className:"line"}),Object(v.jsxs)("div",{className:"product-details__tech-specs",children:[Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"Screen"}),Object(v.jsx)("div",{className:"product-details__value",children:j})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"Resolution"}),Object(v.jsx)("div",{className:"product-details__value",children:null===t||void 0===t?void 0:t.display.screenResolution})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"Processor"}),Object(v.jsx)("div",{className:"product-details__value",children:null===t||void 0===t?void 0:t.hardware.cpu})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"RAM"}),Object(v.jsx)("div",{className:"product-details__value",children:null===t||void 0===t?void 0:t.storage.ram})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"OS"}),Object(v.jsx)("div",{className:"product-details__value",children:null===t||void 0===t?void 0:t.android.os})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"Built in memory"}),Object(v.jsx)("div",{className:"product-details__value",children:null===t||void 0===t?void 0:t.storage.flash})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"Bluetooth"}),Object(v.jsx)("div",{className:"product-details__value",children:null===t||void 0===t?void 0:t.connectivity.bluetooth})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"Camera"}),Object(v.jsx)("div",{className:"product-details__value",children:(null===t||void 0===t?void 0:t.camera.primary)||"unknown"})]}),Object(v.jsxs)("div",{className:"product-details__row",children:[Object(v.jsx)("div",{className:"product-details__option",children:"Cell"}),Object(v.jsx)("div",{className:"product-details__value",children:null===t||void 0===t?void 0:t.connectivity.cell})]})]})]})]})]})}),Object(v.jsx)("section",{children:Object(v.jsx)(A,{products:m,title:"You may also like",className:"random"})})]})},se=function(){var e=Object(i.q)().productId,t=void 0===e?"":e,c=Object(u.useContext)(_).setError,s=Object(u.useState)(null),n=Object(d.a)(s,2),a=n[0],r=n[1],j=Object(u.useState)(!1),b=Object(d.a)(j,2),m=b[0],h=b[1],x=function(){var e=Object(l.a)(o.a.mark((function e(){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,O(t);case 4:s=e.sent,r(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(p.LOAD_ProductDetails);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){x()}),[t]),m?Object(v.jsx)(ee,{}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(ce,{details:a})})},ne=(c(90),function(e){var t=e.cartItem,c=e.handleDeleteItem,s=e.handleClickPlus,n=e.handleClickMinus,i=V["".concat(t.product.type)];return Object(v.jsxs)("div",{className:"cart-item",children:[Object(v.jsxs)("div",{className:"cart-item__top",children:[Object(v.jsx)("button",{type:"button",className:"cart-item__delete-button","data-cy":"cartDeleteButton",onClick:c(t.id),children:Object(v.jsx)("img",{src:"icons/cross.svg",alt:"delete button"})}),Object(v.jsxs)(a.b,{to:"../".concat(i,"/").concat(t.product.id),className:"cart-item__link",children:[Object(v.jsx)("img",{src:t.product.imageUrl,alt:"product img",className:"cart-item__img"}),Object(v.jsx)("p",{className:"cart-item__title",children:t.product.name})]})]}),Object(v.jsxs)("div",{className:"cart-item__bottom",children:[Object(v.jsxs)("div",{className:"cart-item__control",children:[Object(v.jsx)("button",{type:"button",disabled:1===t.quantity,className:"cart-item__control-button",onClick:n(t.id),children:Object(v.jsx)("img",{src:"icons/minus.svg",alt:"minus button"})}),Object(v.jsx)("p",{className:"cart-item__quantity","data-cy":"productQauntity",children:t.quantity}),Object(v.jsx)("button",{type:"button",className:"cart-item__control-button",onClick:s(t.id),children:Object(v.jsx)("img",{src:"icons/plus.svg",alt:"plus button"})})]}),Object(v.jsx)("h3",{className:"cart-item__price",children:"$".concat(W(t.product.price,t.product.discount)*t.quantity)})]})]})}),ae=(c(91),function(){var e=Object(u.useContext)(y),t=e.cart,c=e.setCart,s=Object(u.useContext)(h).setNotification,n=t.reduce((function(e,t){return e+W(t.product.price,t.product.discount)*t.quantity}),0),a=function(e){return function(){c(t.filter((function(t){return t.id!==e})))}},i=function(e){return function(){c(t.map((function(t){return t.id===e?{id:t.id,quantity:t.quantity+1,product:t.product}:t})))}},r=function(e){return function(){c(t.map((function(t){return t.id===e?{id:t.id,quantity:t.quantity-1,product:t.product}:t})))}};return Object(v.jsx)("section",{className:"cart",children:Object(v.jsx)("div",{className:"main-container",children:t.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(te,{}),Object(v.jsx)("h1",{children:"Cart"}),Object(v.jsxs)("div",{className:"grid grid--desktop",children:[Object(v.jsx)("div",{className:" cart__items grid__item--desktop-1-16 ",children:t.map((function(e){return Object(v.jsx)(ne,{cartItem:e,handleDeleteItem:a,handleClickPlus:i,handleClickMinus:r},e.id)}))}),Object(v.jsxs)("div",{className:" cart__total grid__item--desktop-17-24 ",children:[Object(v.jsx)("h2",{className:"cart__total-price",children:"$".concat(n)}),Object(v.jsx)("p",{className:"cart__length",children:"Total for ".concat(t.length," items")}),Object(v.jsx)("div",{className:"line"}),Object(v.jsx)("button",{type:"button",className:"cart__checkout",onClick:function(){return s("We are sorry, but this feature is not implemented yet")},children:"Checkout"})]})]})]}):Object(v.jsx)(G,{text:"Your cart is empty"})})})}),ie=function(){var e=Object(u.useContext)(k).favorites;return Object(v.jsx)(z,{products:e,title:"Favorites",isFavorites:!0})},re=(c(92),c(93),function(){return Object(v.jsx)("footer",{className:"footer",children:Object(v.jsx)("div",{className:"main-container",children:Object(v.jsxs)("div",{className:"footer__content",children:[Object(v.jsx)(a.c,{to:"home",className:"footer__logo",children:Object(v.jsx)("img",{src:"icons/logo.svg",alt:"logo"})}),Object(v.jsxs)("div",{className:"links",children:[Object(v.jsx)("a",{href:"https://github.com/andriimelnyq",className:"links__item",target:"_blank",rel:"noreferrer",children:"Github"}),Object(v.jsx)("a",{href:"mailto:andriimelnyq@gmail.com",className:"links__item",target:"_blank",rel:"noreferrer",children:"Contacts"}),Object(v.jsx)("a",{href:"https://github.com/andriimelnyq",className:"links__item",target:"_blank",rel:"noreferrer",children:"Rights"})]}),Object(v.jsxs)("button",{type:"button",className:"back-to-top",onClick:function(){window.scrollTo(0,0)},children:[Object(v.jsx)("p",{className:"back-to-top__title",children:"Back to top"}),Object(v.jsx)("img",{src:"icons/arrow.svg",alt:"top arrow",className:"back-to-top__image"})]})]})})})}),oe=c(103),le=c(9),de=function(e){var t=e.link,c=e.className,s=e.quantity,n=void 0===s?0:s,i=e.children,r=e.onClick,o="".concat(c,"--selected");return Object(v.jsxs)(a.c,{to:"home"===t?"/":"/".concat(t),className:function(e){var t=e.isActive;return E()(c,Object(le.a)({},o,t))},onClick:r,children:[i,n>0&&Object(v.jsx)("div",{className:"icon__count",children:n})]})},ue=(c(94),function(e){var t=e.navLinks,c=e.setHasMobileMenu,s=e.quantityCart,n=e.quantityFavorites,i=function(){return c(!1)};return Object(u.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="auto"}}),[]),Object(v.jsxs)("nav",{className:"mobile-menu",children:[Object(v.jsxs)("div",{className:"mobile-menu__top",children:[Object(v.jsx)(a.c,{to:"home",className:"logo",onClick:i,children:Object(v.jsx)("img",{src:"icons/logo.svg",alt:"logo"})}),Object(v.jsx)("button",{type:"button",className:"icon icon--visible-on-mobile",onClick:i,children:Object(v.jsx)("img",{src:"icons/cross.svg",alt:"cross",className:"icon__item"})})]}),Object(v.jsx)("ul",{className:"mobile-menu__list",children:t.map((function(e){return Object(v.jsx)(a.c,{to:e,onClick:i,className:function(e){var t=e.isActive;return E()("mobile-menu__list-item",{"mobile-menu__list-item--selected":t})},children:e},e)}))}),Object(v.jsxs)("div",{className:"mobile-menu__bottom",children:[Object(v.jsx)(de,{link:"favorites",className:"icon icon--menu icon--visible-on-mobile",quantity:n,onClick:i,children:Object(v.jsx)("img",{src:"icons/favourites.svg",alt:"favourites",className:"icon__item"})}),Object(v.jsx)(de,{link:"cart",className:"icon icon--menu icon--visible-on-mobile",quantity:s,onClick:i,children:Object(v.jsx)("img",{src:"icons/cart.svg",alt:"cart",className:"icon__item"})})]})]})}),je=c(43),be=(c(97),function(e){var t=e.placeholder,c=Object(a.d)(),s=Object(d.a)(c,2),n=s[0],i=s[1],r=Object(u.useState)(""),o=Object(d.a)(r,2),l=o[0],j=o[1],b=Object(u.useCallback)(Object(je.debounce)(i,1e3),[]);return Object(v.jsx)("input",{type:"search",placeholder:"Search in ".concat(t,"..."),onChange:function(e){j(e.target.value),b(R(n,{query:e.target.value.replace(/\s+/g,"").trim().toLocaleLowerCase()||null,page:"1"}))},value:l,className:"search-input"})}),me=(c(98),function(){var e=Object.values(V),t=Object(u.useState)(!1),c=Object(d.a)(t,2),s=c[0],n=c[1],a=Object(u.useContext)(y).cart,r=Object(u.useContext)(k).favorites,o=Object(i.m)(),l=Object(i.q)().productId,j=[].concat(Object(F.a)(e),["favorites"]).some((function(e){return o.pathname.includes(e)}))&&!l;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(oe.a,{in:s,classNames:"mobile-menu",timeout:300,mountOnEnter:!0,unmountOnExit:!0,children:Object(v.jsx)(ue,{navLinks:e,setHasMobileMenu:n,quantityCart:a.length,quantityFavorites:r.length})}),Object(v.jsxs)("header",{className:"header",children:[Object(v.jsxs)("div",{className:"header__container",children:[Object(v.jsx)(de,{link:"home",className:"logo",children:Object(v.jsx)("img",{src:"icons/logo.svg",alt:"logo"})}),Object(v.jsx)("ul",{className:"links",children:e.map((function(e){return Object(v.jsx)(de,{link:e,className:"links__item",children:e},e)}))})]}),Object(v.jsxs)("div",{className:"header__container",children:[Object(v.jsx)("button",{type:"button",className:"icon icon--visible-on-mobile",onClick:function(){return n(!0)},children:Object(v.jsx)("img",{src:"icons/menu.svg",alt:"menu",className:"icon__item"})}),j&&Object(v.jsx)(be,{placeholder:o.pathname.slice(1)}),Object(v.jsx)(de,{link:"favorites",className:"icon",quantity:r.length,children:Object(v.jsx)("img",{src:"icons/favourites.svg",alt:"favourites",className:"icon__item"})}),Object(v.jsx)(de,{link:"cart",className:"icon",quantity:a.length,children:Object(v.jsx)("img",{src:"icons/cart.svg",alt:"cart",className:"icon__item"})})]})]})]})}),pe=(c(101),function(){var e=Object(u.useContext)(h),t=e.notification,c=e.setNotification;return Object(v.jsx)(oe.a,{in:!!t,classNames:"notification",timeout:300,mountOnEnter:!0,unmountOnExit:!0,children:Object(v.jsxs)("div",{className:"notification",children:[t,Object(v.jsx)("button",{type:"button",onClick:function(){return c("")},className:"notification__button-close",children:Object(v.jsx)("img",{src:"icons/close.svg",alt:"close notification button"})})]})})}),Oe=function(){var e=Object(u.useContext)(_).error,t=Object(u.useContext)(f).isLoadProducts;return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(me,{}),Object(v.jsx)(pe,{}),t?Object(v.jsx)(ee,{}):e===p.NONE&&Object(v.jsx)(i.b,{}),e!==p.NONE&&Object(v.jsx)(G,{text:e}),Object(v.jsx)(re,{})]})};n.a.render(Object(v.jsx)(x,{children:Object(v.jsx)(N,{children:Object(v.jsx)(C,{children:Object(v.jsx)(a.a,{children:Object(v.jsx)(i.e,{children:Object(v.jsxs)(i.c,{path:"/",element:Object(v.jsx)(Oe,{}),children:[Object(v.jsx)(i.c,{path:"home",element:Object(v.jsx)(i.a,{to:"/",replace:!0})}),Object(v.jsx)(i.c,{index:!0,element:Object(v.jsx)(D,{})}),Object(v.jsx)(i.c,{path:"*",element:Object(v.jsx)(G,{text:"Page not found"})}),Object(v.jsx)(i.c,{path:"phones",element:Object(v.jsx)(K,{})}),Object(v.jsx)(i.c,{path:"phones/:productId",element:Object(v.jsx)(se,{})}),Object(v.jsx)(i.c,{path:"tablets",element:Object(v.jsx)(X,{})}),Object(v.jsx)(i.c,{path:"tablets/:productId",element:Object(v.jsx)(se,{})}),Object(v.jsx)(i.c,{path:"accessories",element:Object(v.jsx)(Z,{})}),Object(v.jsx)(i.c,{path:"accessories/:productId",element:Object(v.jsx)(se,{})}),Object(v.jsx)(i.c,{path:"cart",element:Object(v.jsx)(ae,{})}),Object(v.jsx)(i.c,{path:"favorites",element:Object(v.jsx)(ie,{})})]})})})})})}),document.getElementById("root"))},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){}},[[102,1,2]]]);
//# sourceMappingURL=main.25732292.chunk.js.map